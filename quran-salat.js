import axios from 'axios';
import cheerio from 'cheerio';
import { JSDOM } from 'jsdom';
import fetch from 'node-fetch';
import moment from 'moment';
const cities = {
  "1": "Ø§Ù„Ø±Ø¨Ø§Ø·",
  "2": "Ø§Ù„Ø®Ù…ÙŠØ³Ø§Øª",
  "3": "ØªÙŠÙÙ„Øª",
  "4": "Ø§Ù„Ø±Ù…Ø§Ù†ÙŠ",
  "5": "ÙˆØ§Ù„Ù…Ø§Ø³",
  "6": "Ø¨ÙˆØ²Ù†ÙŠÙ‚Ø©",
  "7": "Ø§Ù„Ù‚Ù†ÙŠØ·Ø±Ø©",
  "8": "Ø³ÙŠØ¯ÙŠ Ù‚Ø§Ø³Ù…",
  "9": "Ø³ÙŠØ¯ÙŠ ÙŠØ­ÙŠÙ‰ Ø§Ù„ØºØ±Ø¨",
  "10": "Ø³ÙŠØ¯ÙŠ Ø³Ù„ÙŠÙ…Ø§Ù†",
  "11": "Ø³ÙˆÙ‚ Ø£Ø±Ø¨Ø¹Ø§Ø¡ Ø§Ù„ØºØ±Ø¨",
  "12": "Ø¹Ø±Ø¨Ø§ÙˆØ©",
  "13": "Ù…ÙˆÙ„Ø§ÙŠ Ø¨ÙˆØ³Ù„Ù‡Ø§Ù…",
  "14": "Ø·Ù†Ø¬Ø©",
  "15": "ØªØ·ÙˆØ§Ù†",
  "16": "Ø§Ù„Ø¹Ø±Ø§Ø¦Ø´",
  "17": "Ø£ØµÙŠÙ„Ø©",
  "18": "Ø´ÙØ´Ø§ÙˆÙ†",
  "19": "Ù…Ø±ØªÙŠÙ„",
  "20": "Ø§Ù„Ù…Ø¶ÙŠÙ‚",
  "21": "Ø§Ù„Ù‚ØµØ± Ø§Ù„ÙƒØ¨ÙŠØ±",
  "22": "Ø§Ù„Ù‚ØµØ± Ø§Ù„ØµØºÙŠØ±",
  "23": "Ø§Ù„Ø­Ø³ÙŠÙ…Ø©",
  "24": "Ø³Ø¨ØªØ©",
  "25": "Ø§Ù„ÙÙ†ÙŠØ¯Ù‚",
  "26": "Ø§Ù„Ø¬Ø¨Ù‡Ø©",
  "27": "ÙˆØ§Ø¯ Ù„Ø§Ùˆ",
  "28": "Ø¨Ø§Ø¨ Ø¨Ø±Ø¯",
  "29": "ÙˆØ²Ø§Ù†",
  "30": "Ø¨ÙˆØ³ÙƒÙˆØ±",
  "31": "ÙˆØ¬Ø¯Ø©",
  "32": "Ø¨Ø±ÙƒØ§Ù†",
  "33": "ÙÙƒÙŠÙƒ",
  "34": "Ø¨ÙˆØ¹Ø±ÙØ©",
  "35": "ÙƒØ±Ø³ÙŠÙ",
  "36": "Ø¬Ø±Ø§Ø¯Ø©",
  "37": "Ø¹ÙŠÙ† Ø§Ù„Ø´Ø¹ÙŠØ±",
  "38": "ØªØ§ÙˆØ±ÙŠØ±Øª",
  "39": "Ø§Ù„Ù†Ø§Ø¸ÙˆØ±",
  "40": "Ù…Ù„ÙŠÙ„ÙŠØ©",
  "41": "Ø¯Ø¨Ø¯Ùˆ",
  "42": "Ø³Ù„ÙˆØ§Ù†",
  "43": "Ø¨Ù†ÙŠ Ø£Ù†ØµØ§Ø±",
  "44": "ÙØ±Ø®Ø§Ù†Ø©",
  "45": "ØªØ§Ù„Ø³ÙŠÙ†Øª",
  "46": "ØªÙ†Ø¯Ø±Ø§Ø±Ø©",
  "47": "Ø§Ù„Ø¹ÙŠÙˆÙ† Ø§Ù„Ø´Ø±Ù‚ÙŠØ©",
  "48": "Ø¨Ù†ÙŠ Ø§Ø¯Ø±Ø§Ø±",
  "49": "Ø§Ù„Ø³Ø¹ÙŠØ¯ÙŠØ©",
  "50": "Ø±Ø£Ø³ Ø§Ù„Ù…Ø§Ø¡",
  "51": "ØªØ§ÙÙˆØºØ§Ù„Øª",
  "52": "ÙØ²ÙˆØ§Ù†",
  "53": "Ø£Ø­ÙÙŠØ±",
  "54": "Ø²Ø§ÙŠÙˆ",
  "55": "Ø¯Ø±ÙŠÙˆØ´",
  "56": "Ø¨Ù†ÙŠ ØªØ¬ÙŠØª",
  "57": "Ø¨ÙˆØ¹Ù†Ø§Ù†",
  "58": "Ø§Ù„Ø¯Ø§Ø± Ø§Ù„Ø¨ÙŠØ¶Ø§Ø¡",
  "59": "Ø§Ù„Ù…Ø­Ù…Ø¯ÙŠØ©",
  "60": "Ø¨Ù† Ø³Ù„ÙŠÙ…Ø§Ù†",
  "61": "Ø³Ø·Ø§Øª",
  "62": "Ø§Ù„ÙƒØ§Ø±Ø©",
  "63": "Ø§Ù„Ø¨Ø±ÙˆØ¬",
  "64": "Ø§Ø¨Ù† Ø£Ø­Ù…Ø¯",
  "65": "Ø¨Ø±Ø´ÙŠØ¯",
  "66": "Ø§Ù„Ø¬Ø¯ÙŠØ¯Ø©",
  "67": "Ø£Ø²Ù…ÙˆØ±",
  "68": "Ø³ÙŠØ¯ÙŠ Ø¨Ù†ÙˆØ±",
  "69": "Ø®Ù…ÙŠØ³ Ø§Ù„Ø²Ù…Ø§Ù…Ø±Ø©",
  "70": "Ø®Ù†ÙŠÙØ±Ø©",
  "71": "Ù…ÙˆÙ„Ø§ÙŠ Ø¨ÙˆØ¹Ø²Ø©",
  "72": "Ø²Ø§ÙˆÙŠØ© Ø£Ø­Ù†ØµØ§Ù„",
  "73": "Ø¨Ù†ÙŠ Ù…Ù„Ø§Ù„",
  "74": "Ø£Ø²ÙŠÙ„Ø§Ù„",
  "75": "Ø§Ù„ÙÙ‚ÙŠÙ‡ Ø¨Ù†ØµØ§Ù„Ø­",
  "76": "Ø¯Ù…Ù†Ø§Øª",
  "77": "Ø§Ù„Ù‚ØµÙŠØ¨Ø©",
  "78": "Ù‚ØµØ¨Ø© ØªØ§Ø¯Ù„Ø©",
  "79": "Ø®Ø±ÙŠØ¨ÙƒØ©",
  "80": "ÙˆØ§Ø¯ÙŠ Ø²Ù…",
  "81": "ÙØ§Ø³",
  "82": "ØµÙØ±Ùˆ",
  "83": "Ù…ÙˆÙ„Ø§ÙŠ ÙŠØ¹Ù‚ÙˆØ¨",
  "84": "Ø¨ÙˆÙ„Ù…Ø§Ù†",
  "85": "Ù…ÙŠØ³ÙˆØ±",
  "86": "Ø±Ø¨Ø§Ø· Ø§Ù„Ø®ÙŠØ±",
  "87": "Ø§Ù„Ù…Ù†Ø²Ù„ Ø¨Ù†ÙŠ ÙŠØ§Ø²ØºØ©",
  "88": "Ø¥Ù…ÙˆØ²Ø§Ø± ÙƒÙ†Ø¯Ø±",
  "89": "ØªØ§Ø²Ø©",
  "90": "ØªØ§ÙˆÙ†Ø§Øª",
  "91": "Ø£ÙƒÙ†ÙˆÙ„",
  "92": "ØªÙŠØ²ÙŠ ÙˆØ³Ù„ÙŠ",
  "93": "Ø¨ÙˆØ±Ø¯",
  "94": "ØªØ§Ù‡Ù„Ø©",
  "95": "ØªÙŠØ³Ø©",
  "96": "Ù‚Ø±ÙŠØ© Ø¨Ø§ Ù…Ø­Ù…Ø¯",
  "97": "ÙƒØªØ§Ù…Ø©",
  "98": "ÙˆØ§Ø¯ Ø£Ù…Ù„ÙŠÙ„",
  "99": "Ù…ÙƒÙ†Ø§Ø³",
  "100": "ÙŠÙØ±Ù†",
  "101": "Ø§Ù„Ø­Ø§Ø¬Ø¨",
  "102": "Ø²Ø±Ù‡ÙˆÙ†",
  "103": "Ø¢Ø²Ø±Ùˆ",
  "104": "Ù…Ø±Ø§ÙƒØ´",
  "105": "Ù‚Ù„Ø¹Ø© Ø§Ù„Ø³Ø±Ø§ØºÙ†Ø©",
  "106": "Ø§Ù„ØµÙˆÙŠØ±Ø©",
  "107": "Ø´ÙŠØ´Ø§ÙˆÙ†",
  "108": "Ø¨Ù†Ø¬Ø±ÙŠØ±",
  "109": "Ø§Ù„Ø±Ø­Ø§Ù…Ù†Ø©",
  "110": "ØªÙ…Ù†Ø§Ø±",
  "111": "Ø¢Ø³ÙÙŠ",
  "112": "Ø§Ù„ÙˆÙ„ÙŠØ¯ÙŠØ©",
  "113": "Ø§Ù„ÙŠÙˆØ³ÙÙŠØ©",
  "114": "ØªØ³Ù„Ø·Ø§Ù†Øª",
  "115": "ØªØ§Ù…ØµÙ„ÙˆØ­Øª",
  "116": "Ù‚Ø·Ø§Ø±Ø©",
  "117": "Ø£ÙƒØ§Ø¯ÙŠØ±",
  "118": "ØªØ§Ø±ÙˆØ¯Ø§Ù†Øª",
  "119": "ØªØ²Ù†ÙŠØª",
  "120": "Ø¥ØºØ±Ù…",
  "121": "ØªØ§Ù„ÙˆÙŠÙ†",
  "122": "ØªØ§ÙØ±Ø§ÙˆØª",
  "123": "Ø·Ø§Ø·Ø§",
  "124": "Ø£Ù‚Ø§",
  "125": "ÙÙ… Ù„Ø­ØµÙ†",
  "126": "Ø¨ÙˆÙŠÙƒØ±Ø©",
  "127": "Ø£ÙˆÙ„Ø§Ø¯ ØªØ§ÙŠÙ…Ø©",
  "128": "Ø§Ù„Ø±Ø´ÙŠØ¯ÙŠØ©",
  "129": "Ø§Ù„Ø±ÙŠØµØ§Ù†ÙŠ",
  "130": "Ø£Ø±ÙÙˆØ¯",
  "131": "ØªÙ†Ø¯ÙŠØª",
  "132": "ÙƒÙ„Ù…ÙŠÙ…Ø©",
  "133": "Ø¥Ù…Ù„Ø´ÙŠÙ„",
  "134": "ØªÙ†Ø¬Ø¯Ø§Ø¯",
  "135": "Ø§Ù„Ø±ÙŠØ´",
  "136": "Ù…ÙŠØ¯Ù„Øª",
  "137": "Ø²Ø§ÙƒÙˆØ±Ø©",
  "138": "ÙˆØ±Ø²Ø§Ø²Ø§Øª",
  "139": "ØªÙ†ØºÙŠØ±",
  "140": "Ù‡Ø³ÙƒÙˆØ±Ø©",
  "141": "Ù‚Ù„Ø¹Ø© Ù…ÙƒÙˆÙ†Ø©",
  "142": "Ø£ÙƒØ¯Ø²",
  "143": "Ø¨ÙˆÙ…Ø§Ù„Ù† Ø¯Ø§Ø¯Ø³",
  "144": "Ø§Ù„Ù†ÙŠÙ",
  "145": "Ø£Ø³ÙˆÙ„",
  "146": "Ø£Ù…Ø³Ù…Ø±ÙŠØ±",
  "147": "ØªØ§Ø²Ø§Ø±ÙŠÙ†",
  "148": "Ø³ÙŠØ¯ÙŠ Ø¥ÙÙ†ÙŠ",
  "149": "ÙƒÙ„Ù…ÙŠÙ…",
  "150": "Ø£Ø³Ø§",
  "151": "Ø§Ù„Ø²Ø§Ùƒ",
  "152": "Ø·Ø§Ù†Ø·Ø§Ù†",
  "153": "Ø¨ÙˆÙŠØ²ÙƒØ§Ø±Ù†",
  "154": "Ø§Ù„Ù…Ø­Ø¨Ø³",
  "155": "Ù„Ù…Ø³ÙŠØ¯",
  "156": "Ø§Ù„Ø¹ÙŠÙˆÙ†",
  "157": "Ø§Ù„Ø³Ù…Ø§Ø±Ø©",
  "158": "Ø¨ÙˆØ¬Ø¯ÙˆØ±",
  "159": "Ø·Ø±ÙØ§ÙŠØ©",
  "160": "ØªÙØ§Ø±ÙŠØªÙŠ",
  "161": "Ø¨ÙˆÙƒØ±Ø§Ø¹",
  "162": "ÙƒÙ„ØªØ© Ø²Ù…ÙˆØ±",
  "163": "Ø£Ù…ÙƒØ§Ù„Ø©",
  "164": "Ø£Ø®ÙÙ†ÙŠØ±",
  "165": "Ø§Ù„Ø¯Ø§Ø®Ù„Ø©",
  "166": "Ø§Ù„ÙƒÙˆÙŠØ±Ø©",
  "167": "Ø£ÙˆØ³Ø±Ø¯",
  "168": "Ø¨Ø¦Ø± ÙƒÙ†Ø¯ÙˆØ²",
  "169": "Ø¨Ø¦Ø± Ø£Ù†Ø²Ø§Ø±Ø§Ù†",
  "170": "Ø®Ù…ÙŠØ³ Ø³ÙŠØ¯ÙŠ Ø¹Ø¨Ø¯ Ø§Ù„Ø¬Ù„ÙŠÙ„",
  "171": "Ø£ÙˆÙ„Ø§Ø¯ Ø¹ÙŠØ§Ø¯",
  "172": "ØªØ§Ù‡Ù„Ø©",
  "173": "Ù…Ø·Ù…Ø§Ø·Ø©",
  "174": "Ø¥ÙŠÙ…Ù†ØªØ§Ù†ÙˆØª",
  "175": "Ø³ÙŠØ¯ÙŠ ØºØ§Ù†Ù…",
  "176": "ØªÙÙ†ØªØ§Ù†",
  "177": "Ø¢ÙŠØª Ø§Ù„Ù‚Ø§Ù‚",
  "178": "Ø£ÙƒØ¯Ø§Ù„ Ø£Ù…Ù„Ø´ÙŠÙ„",
  "179": "Ø§ÙƒÙˆØ¯Ø§Ù„ Ø§Ù…Ù„Ø´ÙŠÙ„ Ù…ÙŠØ¯Ù„Øª",
  "180": "Ø£ÙƒØ§ÙŠÙˆØ§Ø±",
  "181": "Ø¹ÙŠÙ† Ø§Ù„Ø¹ÙˆØ¯Ø©",
  "182": "Ø£Ø³ÙƒÙŠÙ†",
  "183": "Ø¢ÙŠØª ÙˆØ±ÙŠØ±",
  "184": "Ø²Ø§ÙˆÙŠØ© Ù…ÙˆÙ„Ø§ÙŠ Ø§Ø¨Ø±Ø§Ù‡ÙŠÙ…",
  "185": "ØªÙˆÙ„ÙƒÙˆÙ„Øª",
  "186": "Ø¥ÙŠÙƒØ³",
  "187": "ÙƒØ±Ø³",
  "188": "ØªÙŠØ³Ù†Øª",
  "189": "ÙÙ… Ø²ÙƒÙŠØ¯",
  "190": "Ù‚ØµØ± Ø¥ÙŠØ´",
  "191": "Ø¥ÙŠÙ…ÙŠÙ† Ø«Ù„Ø§Ø«"
};
let handler = async (m, { conn, command, text }) => {
 if (command === 'salatm'){ if (!text) {
let citiesList = `Ø£Ø¯Ø®Ù„ Ø±Ù‚Ù… Ø§Ù„Ù…Ø¯ÙŠÙ†Ø©ØŒ Ù…Ø«Ø§Ù„:\n.${command} 58\n\n*Ù‚Ø§Ø¦Ù…Ø© Ø§Ù„Ù…Ø¯Ù† ÙˆØ£Ø±Ù‚Ø§Ù…Ù‡Ø§:*\n\n`;
for (const [code, cityName] of Object.entries(cities)) {
  citiesList += `${code}: ${cityName}\n`;
}
m.reply(citiesList);
return;
  }
  const city = text.trim();

  if (!cities[city]) {
return m.reply("Ø§Ù„Ù…Ø¯ÙŠÙ†Ø© ØºÙŠØ± Ù…Ø¯Ø¹ÙˆÙ…Ø©. Ø§Ù„Ø±Ø¬Ø§Ø¡ Ø§Ø®ØªÙŠØ§Ø± Ù…Ø¯ÙŠÙ†Ø© Ø£Ø®Ø±Ù‰ Ù…Ù† Ø§Ù„Ù‚Ø§Ø¦Ù…Ø©.");
  }

  const cityCode = cities[city];

  const VALUES = [
"day_name",
"arabic_month",
"month",
"fajr",
"chorouq",
"dohr",
"asr",
"maghrib",
"ishae",
  ];

  const M1 = "https://habous-gov-ma.translate.goog/prieres/horaire_hijri_2.php?ville=";
  const M2 = "&_x_tr_sl=auto&_x_tr_tl=ar&_x_tr_hl=ar&_x_tr_pto=wapp";
  const getMonthlyPrayers = async (city) => {
const cityCode = encodeURIComponent(city); // ØªØ±Ù…ÙŠØ² Ø§Ø³Ù… Ø§Ù„Ù…Ø¯ÙŠÙ†Ø©
try {
  const data = await axios.get(`${M1}${cityCode}${M2}`).then((res) => res.data);
  return mapResponseToMonthlyPrayers(data);
} catch (error) {
  console.error("Ø­Ø¯Ø« Ø®Ø·Ø£ Ø£Ø«Ù†Ø§Ø¡ Ø¬Ù„Ø¨ Ø£ÙˆÙ‚Ø§Øª Ø§Ù„ØµÙ„Ø§Ø©:", error);
  return null;
}
  };

  const mapResponseToMonthlyPrayers = (data) => {
const dom = new JSDOM(data);
const items = dom.window.document.querySelectorAll("#horaire > tbody > tr");
const prayersData = Array.from(items).map((item) => {
  const result = {};
  const children = Array.from(item.children);
  VALUES.forEach((value, i) => {
if (i === 2) {
  result[value] = children[2].textContent.trim();
} else {
  result[value] = children[i].textContent.trim();
}
  });
  return result;
});
return prayersData;
  };

   getMonthlyPrayers(city)
   .then((prayersData) => {
 if (prayersData) {
   let prersData = prayersData[0].month;
   if (prersData.length > 0) {
 let parts = prersData.split(' / ');
 let firstPart, secondPart;
 if (parts.length === 2) {
   firstPart = parts[0].trim();
   secondPart = parts[1].trim();
 }
 let message = `ğŸ•Œ Ø£ÙˆÙ‚Ø§Øª Ø§Ù„ØµÙ„Ø§Ø© ÙÙŠ Ù…Ø¯ÙŠÙ†Ø© *${cityCode}* Ù„Ø´Ù‡Ø± *${prayersData[0].arabic_month.replace("Ø§Ù„Ø¢Ø®Ø±", "Ø§Ù„Ø«Ø§Ù†ÙŠ")}*:\n\n`;
 let site = global.site

 prayersData.slice(1).forEach((prayer, index) => {
 let month; // ØªØ¹Ø±ÙŠÙ Ø§Ù„Ù…ØªØºÙŠØ± Ù‡Ù†Ø§

 if (parseInt(prayer.month) >= (index + 1)) {
 month = firstPart;
 } else {
 month = secondPart;
 }
 let prayerMessage = `ğŸ—“ï¸ *${prayer.day_name}: ${prayer.arabic_month} ${prayersData[0].arabic_month.replace("Ø§Ù„Ø¢Ø®Ø±", "Ø§Ù„Ø«Ø§Ù†ÙŠ")} - ${prayer.month} ${month}*\n`;
 prayerMessage += `ğŸ•” Ø§Ù„ÙØ¬Ø±: ${prayer.fajr}ğŸ• Ø§Ù„Ø¸Ù‡Ø±: ${prayer.dohr}\n`;
 prayerMessage += `ğŸ•Ÿ Ø§Ù„Ø¹ØµØ±: ${prayer.asr}ğŸ•— Ø§Ù„Ù…ØºØ±Ø¨: ${prayer.maghrib}\n`;
 prayerMessage += `ğŸ•— Ø§Ù„Ø¹Ø´Ø§Ø¡: ${prayer.ishae}\n\n`;
 message += prayerMessage;
 });

 message += site; // ÙŠØªÙ… Ø¥Ø¶Ø§ÙØ© Ø§Ù„Ù…ØªØºÙŠØ± `site` Ø¥Ù„Ù‰ Ù†Ù‡Ø§ÙŠØ© Ø§Ù„Ø±Ø³Ø§Ù„Ø©
 m.reply(message);

  } else {
m.reply("Ø­Ø¯Ø« Ø®Ø·Ø£ Ø£Ø«Ù†Ø§Ø¡ Ø¬Ù„Ø¨ Ø£ÙˆÙ‚Ø§Øª Ø§Ù„ØµÙ„Ø§Ø©.");
  }
}})
.catch((error) => {
  console.error("Ø­Ø¯Ø« Ø®Ø·Ø£ Ø£Ø«Ù†Ø§Ø¡ Ø¬Ù„Ø¨ Ø£ÙˆÙ‚Ø§Øª Ø§Ù„ØµÙ„Ø§Ø©:", error);
  m.reply("Ø­Ø¯Ø« Ø®Ø·Ø£ Ø£Ø«Ù†Ø§Ø¡ Ø¬Ù„Ø¨ Ø£ÙˆÙ‚Ø§Øª Ø§Ù„ØµÙ„Ø§Ø©.");
});} else if(command === 'salatn') {
   try {
 // Ø§Ø³ØªØ®Ø±Ø§Ø¬ Ø¹Ù†ÙˆØ§Ù† Ø§Ù„Ù…ÙˆÙ‚Ø¹ Ù…Ù† Ø§Ù„Ù†Øµ Ø§Ù„Ø°ÙŠ Ø£Ø¯Ø®Ù„Ù‡ Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…
 const address = text.trim();
   if (!text) {
 return m.reply("ÙŠØ±Ø¬Ù‰ Ø¥Ø¯Ø®Ø§Ù„ Ø§Ø³Ù… Ø§Ù„Ù…Ø¯ÙŠÙ†Ø© Ø¨Ø¹Ø¯ Ø§Ù„Ø£Ù…Ø±ØŒ Ù…Ø«Ø§Ù„: \n.salat casablanca");
   };
 // Ø§Ø³ØªØ®Ø¯Ø§Ù… Ù…ÙƒØªØ¨Ø© moment Ù„Ù„Ø­ØµÙˆÙ„ Ø¹Ù„Ù‰ ØªØ§Ø±ÙŠØ® Ø§Ù„ÙŠÙˆÙ… Ø¨Ø§Ù„ØªÙ†Ø³ÙŠÙ‚ Ø§Ù„ØµØ­ÙŠØ­
 const date = moment().format('DD-MM-YYYY');

 // URL Ù„Ø§Ø³ØªØ±Ø¯Ø§Ø¯ Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ø£ÙˆÙ‚Ø§Øª Ø§Ù„ØµÙ„Ø§Ø© Ù…Ù† API
 const apiUrl = `https://api.aladhan.com/v1/timingsByAddress/${date}?address=${address}&method=16`;

 // Ø¬Ù„Ø¨ Ø§Ù„Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ù…Ù† API
 const response = await fetch(apiUrl);
 const data = await response.json();

 if (data && data.data) {
   const currentDay = data.data.date.hijri.day; // Ø§Ù„ÙŠÙˆÙ… Ø§Ù„Ø­Ø§Ù„ÙŠ
   const previousDay = currentDay - 1;
 const prayerTimes = data.data.timings;
 const location = data.data.meta.address;
 const gregorianDate = data.data.date.gregorian.date;
 const hijriDate = data.data.date.hijri.weekday.ar + " " + previousDay + " " + data.data.date.hijri.month.ar + " " + data.data.date.hijri.year;
 const teks = `ğŸ•Œ *Ø£ÙˆÙ‚Ø§Øª Ø§Ù„ØµÙ„Ø§Ø© ÙÙŠ ${text} Ø¨ØªØ§Ø±ÙŠØ® ${date}:*\n\nğŸ•” Ø§Ù„ÙØ¬Ø±: ${prayerTimes.Fajr}\nğŸ•– Ø§Ù„Ø´Ø±ÙˆÙ‚: ${prayerTimes.Sunrise}\nğŸ• Ø§Ù„Ø¸Ù‡Ø±: ${prayerTimes.Dhuhr}\nğŸ•Ÿ Ø§Ù„Ø¹ØµØ±: ${prayerTimes.Asr}\nğŸ•— Ø§Ù„Ù…ØºØ±Ø¨: ${prayerTimes.Maghrib}\nğŸ•— Ø§Ù„Ø¹Ø´Ø§Ø¡: ${prayerTimes.Isha}

   ğŸ—“ï¸ *Ø§Ù„ØªØ§Ø±ÙŠØ® Ø§Ù„Ù…ÙŠÙ„Ø§Ø¯ÙŠ:* ${gregorianDate}
   ğŸ—“ï¸ *Ø§Ù„ØªØ§Ø±ÙŠØ® Ø§Ù„Ù‡Ø¬Ø±ÙŠ:* ${hijriDate} `;

 await conn.reply(m.chat, teks, m);
 } else {
 await conn.reply(m.chat, 'Ù„Ù… ÙŠØªÙ… Ø§Ù„Ø¹Ø«ÙˆØ± Ø¹Ù„Ù‰ Ø£ÙˆÙ‚Ø§Øª Ø§Ù„ØµÙ„Ø§Ø©', m);
 }
   } catch (e) {
 console.error(e);
 await conn.reply(m.chat, 'Ø­Ø¯Ø« Ø®Ø·Ø£ Ø£Ø«Ù†Ø§Ø¡ ØªÙ†ÙÙŠØ° Ø§Ù„Ø£Ù…Ø±', m);
   }
}
};

handler.help = ["salah"];
handler.tags = ["internet"];
handler.command = /^(salatn|slat|ØµÙ„Ø§Ø©|salatm)$/i;

export default handler;